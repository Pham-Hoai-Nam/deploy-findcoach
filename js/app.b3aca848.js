(function(e){function t(t){for(var r,o,i=t[0],s=t[1],u=t[2],d=0,b=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==c[s]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},c={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"073c":function(e,t,n){},"0808":function(e,t,n){"use strict";n("0957")},"0957":function(e,t,n){},"0cce":function(e,t,n){"use strict";n("c5e4")},"0dff":function(e,t,n){},1333:function(e,t,n){},1943:function(e,t,n){"use strict";n("1fe2")},"1aa7":function(e,t,n){"use strict";n("1333")},"1fe2":function(e,t,n){},"220a":function(e,t,n){},3064:function(e,t,n){"use strict";n("96d2")},"3b33":function(e,t,n){"use strict";n("7118")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function c(e,t,n,c,a,o){var i=Object(r["C"])("AppHeader"),s=Object(r["C"])("router-view");return Object(r["u"])(),Object(r["h"])("div",null,[Object(r["k"])(i),Object(r["k"])(s,null,{default:Object(r["K"])((function(e){return[Object(r["k"])(r["c"],{name:"route",mode:"out-in"},{default:Object(r["K"])((function(){return[(Object(r["u"])(),Object(r["f"])(Object(r["D"])(e.Component)))]})),_:2},1024)]})),_:1})])}n("ac1f"),n("5319");var a=Object(r["j"])("Find a Coach"),o=Object(r["j"])("All Coaches"),i={key:0},s=Object(r["j"])("Requests"),u={key:1},l=Object(r["j"])("Login"),d={key:2},b=Object(r["j"])("Logout");function f(e,t,n,c,f,h){var j=Object(r["C"])("router-link"),O=Object(r["C"])("base-button");return Object(r["u"])(),Object(r["h"])("header",null,[Object(r["i"])("nav",null,[Object(r["i"])("h1",null,[Object(r["k"])(j,{to:"/"},{default:Object(r["K"])((function(){return[a]})),_:1})]),Object(r["i"])("ul",null,[Object(r["i"])("li",null,[Object(r["k"])(j,{to:"/coaches"},{default:Object(r["K"])((function(){return[o]})),_:1})]),h.isLoggedIn?(Object(r["u"])(),Object(r["h"])("li",i,[Object(r["k"])(j,{to:"/requests"},{default:Object(r["K"])((function(){return[s]})),_:1})])):(Object(r["u"])(),Object(r["h"])("li",u,[Object(r["k"])(j,{to:"/auth"},{default:Object(r["K"])((function(){return[l]})),_:1})])),h.isLoggedIn?(Object(r["u"])(),Object(r["h"])("li",d,[Object(r["k"])(O,{onClick:h.logout},{default:Object(r["K"])((function(){return[b]})),_:1},8,["onClick"])])):Object(r["g"])("",!0)])])])}var h={computed:{isLoggedIn:function(){return this.$store.getters["auth/isAuthenticated"]}},methods:{logout:function(){this.$store.dispatch("auth/logout"),this.$router.replace("/coaches")}}},j=(n("cd89"),n("6b0d")),O=n.n(j);const m=O()(h,[["render",f],["__scopeId","data-v-4f95254d"]]);var p=m,v={components:{AppHeader:p},created:function(){this.$store.dispatch("auth/tryLogin")},computed:{didAutoLogout:function(){return this.$store.getters["auth/didAutoLogout"]}},watch:{didAutoLogout:function(e,t){e&&e!==t&&this.$router.replace("/coaches")}}};n("8c99");const g=O()(v,[["render",c],["__scopeId","data-v-4083809b"]]);var k=g,y=n("6c02"),C={class:"controls"},w=Object(r["j"])(" Refresh "),I=Object(r["j"])(" Login to register as Coach "),_=Object(r["j"])(" Register as Coach "),x={key:0},R={key:1},L={key:2};function F(e,t,n,c,a,o){var i=Object(r["C"])("base-dialog"),s=Object(r["C"])("coach-filter"),u=Object(r["C"])("base-button"),l=Object(r["C"])("base-spinner"),d=Object(r["C"])("coach-item"),b=Object(r["C"])("base-card");return Object(r["u"])(),Object(r["h"])("div",null,[Object(r["k"])(i,{show:!!a.error,onClose:e.handleError,title:"An error occurred!"},{default:Object(r["K"])((function(){return[Object(r["i"])("p",null,Object(r["F"])(a.error),1)]})),_:1},8,["show","onClose"]),Object(r["i"])("section",null,[Object(r["k"])(s,{onChangeFilter:o.setFilters},null,8,["onChangeFilter"])]),Object(r["i"])("section",null,[Object(r["k"])(b,null,{default:Object(r["K"])((function(){return[Object(r["i"])("div",C,[Object(r["k"])(u,{mode:"outline",onClick:t[0]||(t[0]=function(e){return o.loadCoaches(!0)})},{default:Object(r["K"])((function(){return[w]})),_:1}),o.isLoggedIn?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["f"])(u,{key:0,link:"",to:"/auth?redirect=register"},{default:Object(r["K"])((function(){return[I]})),_:1})),!o.isLoggedIn||o.isCoach||a.isLoading?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["f"])(u,{key:1,to:"/register",link:""},{default:Object(r["K"])((function(){return[_]})),_:1}))]),a.isLoading?(Object(r["u"])(),Object(r["h"])("div",x,[Object(r["k"])(l)])):o.hasCoaches?(Object(r["u"])(),Object(r["h"])("ul",R,[(Object(r["u"])(!0),Object(r["h"])(r["a"],null,Object(r["A"])(o.filteredCoaches,(function(e){return Object(r["u"])(),Object(r["f"])(d,{key:e.id,id:e.id,firstName:e.firstName,lastName:e.lastName,areas:e.areas,rate:e.hourlyRate},null,8,["id","firstName","lastName","areas","rate"])})),128))])):(Object(r["u"])(),Object(r["h"])("h3",L,"No coaches found!"))]})),_:1})])])}var S=n("1da1"),V=(n("96cf"),n("4de4"),n("d3b7"),n("caad"),n("2532"),{class:"actions"}),q=Object(r["j"])("Contact"),E=Object(r["j"])("View Details");function N(e,t,n,c,a,o){var i=Object(r["C"])("base-badge"),s=Object(r["C"])("base-button");return Object(r["u"])(),Object(r["h"])("li",null,[Object(r["i"])("h3",null,Object(r["F"])(o.fullName),1),Object(r["i"])("h4",null,"$"+Object(r["F"])(n.rate)+"/hour",1),Object(r["i"])("div",null,[(Object(r["u"])(!0),Object(r["h"])(r["a"],null,Object(r["A"])(n.areas,(function(e){return Object(r["u"])(),Object(r["f"])(i,{key:e.id,type:e,title:e},null,8,["type","title"])})),128))]),Object(r["i"])("div",V,[Object(r["k"])(s,{to:o.coachContactLink,mode:"outline",link:""},{default:Object(r["K"])((function(){return[q]})),_:1},8,["to"]),Object(r["k"])(s,{to:o.coachDetailsLink,link:""},{default:Object(r["K"])((function(){return[E]})),_:1},8,["to"])])])}n("99af");var T={props:["id","firstName","lastName","areas","rate"],computed:{fullName:function(){return this.firstName+" "+this.lastName},coachContactLink:function(){return"".concat(this.$route.path,"/").concat(this.id,"/contact")},coachDetailsLink:function(){return"".concat(this.$route.path,"/").concat(this.id)}},mounted:function(){}};n("e702");const A=O()(T,[["render",N],["__scopeId","data-v-7c4acfed"]]);var $=A,U=Object(r["i"])("h2",null,"Find your coach",-1),K={class:"filter-option"},D=Object(r["i"])("label",{for:"frontend"},"Frontend",-1),B={class:"filter-option"},M=Object(r["i"])("label",{for:"backend"},"Backend",-1),P={class:"filter-option"},H=Object(r["i"])("label",{for:"career"},"Career",-1);function G(e,t,n,c,a,o){var i=Object(r["C"])("base-card");return Object(r["u"])(),Object(r["f"])(i,null,{default:Object(r["K"])((function(){return[U,Object(r["i"])("span",K,[Object(r["i"])("input",{type:"checkbox",id:"frontend",checked:"",onChange:t[0]||(t[0]=function(){return o.setFilter&&o.setFilter.apply(o,arguments)})},null,32),D]),Object(r["i"])("span",B,[Object(r["i"])("input",{type:"checkbox",id:"backend",checked:"",onChange:t[1]||(t[1]=function(){return o.setFilter&&o.setFilter.apply(o,arguments)})},null,32),M]),Object(r["i"])("span",P,[Object(r["i"])("input",{type:"checkbox",id:"career",checked:"",onChange:t[2]||(t[2]=function(){return o.setFilter&&o.setFilter.apply(o,arguments)})},null,32),H])]})),_:1})}var J=n("ade3"),Q=n("5530"),Y={emits:["change-filter"],data:function(){return{filters:{frontend:!0,backend:!0,career:!0}}},methods:{setFilter:function(e){var t=e.target.id,n=e.target.checked,r=Object(Q["a"])(Object(Q["a"])({},this.filters),{},Object(J["a"])({},t,n));this.filters=r,this.$emit("change-filter",r)}}};const z=O()(Y,[["render",G]]);var W=z,X={components:{CoachItem:$,CoachFilter:W},computed:{filteredCoaches:function(){var e=this,t=this.$store.getters["coaches/coaches"];return t.filter((function(t){var n,r,c;return!(!e.activeFilters.frontend||null===t||void 0===t||null===(n=t.areas)||void 0===n||!n.includes("frontend"))||(!(!e.activeFilters.backend||null===t||void 0===t||null===(r=t.areas)||void 0===r||!r.includes("backend"))||!(!e.activeFilters.career||null===t||void 0===t||null===(c=t.areas)||void 0===c||!c.includes("career")))}))},hasCoaches:function(){return!this.isLoading&&this.$store.getters["coaches/hasCoaches"]},isCoach:function(){return this.$store.getters["coaches/isCoach"]},isLoggedIn:function(){return this.$store.getters["auth/isAuthenticated"]}},created:function(){this.loadCoaches()},mounted:function(){},data:function(){return{activeFilters:{frontend:!0,backend:!0,career:!0},isLoading:!1,error:null}},methods:{setFilters:function(e){this.activeFilters=e},loadCoaches:function(){var e=arguments,t=this;return Object(S["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]&&e[0],t.isLoading=!0,n.prev=2,n.next=5,t.$store.dispatch("coaches/loadCoaches",{forceRefresh:r});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](2),t.error=n.t0.message||"Something went wrong!";case 10:t.isLoading=!1;case 11:case"end":return n.stop()}}),n,null,[[2,7]])})))()}},handleError:function(){this.error=null}};n("3064");const Z=O()(X,[["render",F],["__scopeId","data-v-abd866e0"]]);var ee=Z,te=(n("a4d3"),n("e01a"),Object(r["i"])("h2",null,"Interested? Reach out now!",-1)),ne=Object(r["j"])(" Contact ");function re(e,t,n,c,a,o){var i=Object(r["C"])("base-card"),s=Object(r["C"])("base-button"),u=Object(r["C"])("router-view"),l=Object(r["C"])("base-badge");return Object(r["u"])(),Object(r["h"])("div",null,[Object(r["i"])("section",null,[Object(r["k"])(i,null,{default:Object(r["K"])((function(){return[Object(r["i"])("h3",null,Object(r["F"])(o.fullName),1),Object(r["i"])("h4",null,"$"+Object(r["F"])(o.rate)+"/hour",1)]})),_:1})]),Object(r["i"])("section",null,[Object(r["k"])(i,null,{default:Object(r["K"])((function(){return[Object(r["i"])("header",null,[te,Object(r["k"])(s,{link:"",to:o.contactLink},{default:Object(r["K"])((function(){return[ne]})),_:1},8,["to"])]),Object(r["k"])(u)]})),_:1})]),Object(r["i"])("section",null,[Object(r["k"])(i,null,{default:Object(r["K"])((function(){return[(Object(r["u"])(!0),Object(r["h"])(r["a"],null,Object(r["A"])(o.areas,(function(e){return Object(r["u"])(),Object(r["f"])(l,{key:e.id,type:e,title:e},null,8,["type","title"])})),128)),Object(r["i"])("p",null,Object(r["F"])(o.description),1)]})),_:1})])])}n("7db0");var ce={props:["id"],computed:{fullName:function(){var e=this.selectedCoach,t=e.firstName,n=e.lastName;return t+" "+n},rate:function(){return this.selectedCoach.hourlyRate},areas:function(){return this.selectedCoach.areas},description:function(){return this.selectedCoach.description},contactLink:function(){return"".concat(this.$route.path,"/").concat(this.id,"/contact")}},data:function(){return{selectedCoach:null}},created:function(){var e=this;this.selectedCoach=this.$store.getters["coaches/coaches"].find((function(t){return t.id===e.id}))}};const ae=O()(ce,[["render",re]]);var oe=ae,ie=Object(r["i"])("h2",null,"Register as a coach now",-1);function se(e,t,n,c,a,o){var i=Object(r["C"])("coach-form"),s=Object(r["C"])("base-card");return Object(r["u"])(),Object(r["h"])("section",null,[Object(r["k"])(s,null,{default:Object(r["K"])((function(){return[ie,Object(r["k"])(i,{onSaveData:o.saveData},null,8,["onSaveData"])]})),_:1})])}var ue=function(e){return Object(r["x"])("data-v-768f8bdc"),e=e(),Object(r["v"])(),e},le=ue((function(){return Object(r["i"])("label",{for:"fistname"},"Firstname",-1)})),de={key:0},be=ue((function(){return Object(r["i"])("label",{for:"lastname"},"Lastname",-1)})),fe={key:0},he=ue((function(){return Object(r["i"])("label",{for:"description"},"Description",-1)})),je={key:0},Oe=ue((function(){return Object(r["i"])("label",{for:"rate"},"Hourly Rate",-1)})),me={key:0},pe=ue((function(){return Object(r["i"])("h3",null,"Area Of Expertise",-1)})),ve=ue((function(){return Object(r["i"])("label",{for:"frontend"},"Frontend Development",-1)})),ge=ue((function(){return Object(r["i"])("label",{for:"backend"},"Backend Development",-1)})),ke=ue((function(){return Object(r["i"])("label",{for:"career"},"Career Advisory",-1)})),ye={key:0},Ce={key:0},we=Object(r["j"])("Register");function Ie(e,t,n,c,a,o){var i=Object(r["C"])("base-button");return Object(r["u"])(),Object(r["h"])("form",{onSubmit:t[13]||(t[13]=Object(r["M"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["prevent"]))},[Object(r["i"])("div",{class:Object(r["q"])(["form-control",{invalid:!a.firstName.isValid}])},[le,Object(r["L"])(Object(r["i"])("input",{type:"text",id:"firstname","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.firstName.val=e}),onBlur:t[1]||(t[1]=function(e){return o.clearValidity("firstName")})},null,544),[[r["I"],a.firstName.val,void 0,{trim:!0}]]),a.firstName.isValid?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("p",de,"Firstname must not be empty."))],2),Object(r["i"])("div",{class:Object(r["q"])(["form-control",{invalid:!a.lastName.isValid}])},[be,Object(r["L"])(Object(r["i"])("input",{type:"text",id:"lastname","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.lastName.val=e}),onBlur:t[3]||(t[3]=function(e){return o.clearValidity("lastName")})},null,544),[[r["I"],a.lastName.val,void 0,{trim:!0}]]),a.lastName.isValid?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("p",fe,"Lastname must not be empty."))],2),Object(r["i"])("div",{class:Object(r["q"])(["form-control",{invalid:!a.description.isValid}])},[he,Object(r["L"])(Object(r["i"])("textarea",{id:"description",rows:"5","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.description.val=e}),onBlur:t[5]||(t[5]=function(e){return o.clearValidity("description")})},null,544),[[r["I"],a.description.val,void 0,{trim:!0}]]),a.description.isValid?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("p",je,"Description must not be empty."))],2),Object(r["i"])("div",{class:Object(r["q"])(["form-control",{invalid:!a.rate.isValid}])},[Oe,Object(r["L"])(Object(r["i"])("input",{type:"number",id:"rate","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.rate.val=e}),onBlur:t[7]||(t[7]=function(e){return o.clearValidity("rate")})},null,544),[[r["I"],a.rate.val,void 0,{number:!0}]]),a.rate.isValid?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("p",me,"Rate must be greater than 0."))],2),Object(r["i"])("div",{class:Object(r["q"])(["form-control",{invalid:!a.areas.isValid}])},[pe,Object(r["i"])("div",null,[Object(r["L"])(Object(r["i"])("input",{type:"checkbox",id:"frontend",value:"frontend","onUpdate:modelValue":t[8]||(t[8]=function(e){return a.areas.val=e}),onBlur:t[9]||(t[9]=function(e){return o.clearValidity("areas")})},null,544),[[r["H"],a.areas.val]]),ve]),Object(r["i"])("div",null,[Object(r["L"])(Object(r["i"])("input",{type:"checkbox",id:"backend",value:"backend","onUpdate:modelValue":t[10]||(t[10]=function(e){return a.areas.val=e}),onBlur:t[11]||(t[11]=function(e){return o.clearValidity("areas")})},null,544),[[r["H"],a.areas.val]]),ge]),Object(r["i"])("div",null,[Object(r["L"])(Object(r["i"])("input",{type:"checkbox",id:"career",value:"career","onUpdate:modelValue":t[12]||(t[12]=function(e){return a.areas.val=e})},null,512),[[r["H"],a.areas.val]]),ke]),a.areas.isValid?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("p",ye,"At least one expertise must be selected."))],2),a.formIsValid?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("p",Ce,"Please fix the above errors and submit again!")),Object(r["k"])(i,null,{default:Object(r["K"])((function(){return[we]})),_:1})],32)}var _e={emit:["save-data"],data:function(){return{firstName:{val:"",isValid:!0},lastName:{val:"",isValid:!0},description:{val:"",isValid:!0},rate:{val:null,isValid:!0},areas:{val:[],isValid:!0},formIsValid:!0}},methods:{clearValidity:function(e){this[e].isValid=!0},validateForm:function(){this.formIsValid=!0,""===this.firstName.val&&(this.firstName.isValid=!1,this.formIsValid=!1),""===this.lastName.val&&(this.lastName.isValid=!1,this.formIsValid=!1),""===this.description.val&&(this.description.isValid=!1,this.formIsValid=!1),(!this.rate.val||this.rate.val<0)&&(this.rate.isValid=!1,this.formIsValid=!1),this.areas.val.length||(this.areas.isValid=!1,this.formIsValid=!1)},submitForm:function(){if(this.validateForm(),this.formIsValid){var e={first:this.firstName.val,last:this.lastName.val,desc:this.description.val,rate:this.rate.val,areas:this.areas.val};this.$emit("save-data",e)}}}};n("1aa7");const xe=O()(_e,[["render",Ie],["__scopeId","data-v-768f8bdc"]]);var Re=xe,Le={components:{CoachForm:Re},methods:{saveData:function(e){this.$store.dispatch("coaches/registerCoach",e),this.$router.replace("/coaches")}}};const Fe=O()(Le,[["render",se]]);var Se=Fe,Ve=function(e){return Object(r["x"])("data-v-3f5d61ab"),e=e(),Object(r["v"])(),e},qe={class:"form-control"},Ee=Ve((function(){return Object(r["i"])("label",{for:"email"},"Your E-Mail",-1)})),Ne={class:"form-control"},Te=Ve((function(){return Object(r["i"])("label",{for:"message"},"Your Message",-1)})),Ae={key:0,class:"errors"},$e={class:"actions"},Ue=Object(r["j"])("Send Message");function Ke(e,t,n,c,a,o){var i=Object(r["C"])("base-button");return Object(r["u"])(),Object(r["h"])("form",null,[Object(r["i"])("div",qe,[Ee,Object(r["L"])(Object(r["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e})},null,512),[[r["I"],a.email,void 0,{trim:!0}]])]),Object(r["i"])("div",Ne,[Te,Object(r["L"])(Object(r["i"])("textarea",{id:"message",rows:"5","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.message=e})},null,512),[[r["I"],a.message,void 0,{trim:!0}]])]),a.formIsValid?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("p",Ae," Please enter a valid email and non-empty message. ")),Object(r["i"])("div",$e,[Object(r["k"])(i,{onClick:Object(r["M"])(o.submitForm,["prevent"])},{default:Object(r["K"])((function(){return[Ue]})),_:1},8,["onClick"])])])}var De={data:function(){return{email:"",message:"",formIsValid:!0}},methods:{submitForm:function(){this.formIsValid=!0,this.email&&this.email.includes("@")&&this.message?(this.$store.dispatch("requests/contactCoach",{coachId:this.$route.params.id,email:this.email,message:this.message}),this.$router.replace("/coaches")):this.formIsValid=!1}}};n("fc9c");const Be=O()(De,[["render",Ke],["__scopeId","data-v-3f5d61ab"]]);var Me=Be,Pe=function(e){return Object(r["x"])("data-v-dd45a256"),e=e(),Object(r["v"])(),e},He=Pe((function(){return Object(r["i"])("header",null,[Object(r["i"])("h2",null,"Requests Received")],-1)})),Ge={key:1},Je={key:2};function Qe(e,t,n,c,a,o){var i=Object(r["C"])("base-dialog"),s=Object(r["C"])("base-spinner"),u=Object(r["C"])("request-item"),l=Object(r["C"])("base-card");return Object(r["u"])(),Object(r["h"])("div",null,[Object(r["k"])(i,{show:!!a.error,title:"An error occurred!",onClose:o.tryClose},{default:Object(r["K"])((function(){return[Object(r["i"])("p",null,Object(r["F"])(a.error),1)]})),_:1},8,["show","onClose"]),Object(r["i"])("section",null,[Object(r["k"])(l,null,{default:Object(r["K"])((function(){return[He,a.isLoading?(Object(r["u"])(),Object(r["f"])(s,{key:0})):o.hasRequest?(Object(r["u"])(),Object(r["h"])("ul",Ge,[(Object(r["u"])(!0),Object(r["h"])(r["a"],null,Object(r["A"])(o.receivedRequest,(function(e){return Object(r["u"])(),Object(r["f"])(u,{key:e.id,email:e.userEmail,message:e.message},null,8,["email","message"])})),128))])):(Object(r["u"])(),Object(r["h"])("h3",Je,"You haven't received any requests yet!"))]})),_:1})])])}var Ye=["href"];function ze(e,t,n,c,a,o){return Object(r["u"])(),Object(r["h"])("li",null,[Object(r["i"])("div",null,[Object(r["i"])("a",{href:o.emailLink},Object(r["F"])(n.email),9,Ye)]),Object(r["i"])("p",null,Object(r["F"])(n.message),1)])}var We={props:["email","message"],computed:{emailLink:function(){return"mailto:".concat(this.email)}}};n("1943");const Xe=O()(We,[["render",ze],["__scopeId","data-v-651e69ae"]]);var Ze=Xe,et={components:{RequestItem:Ze},data:function(){return{error:null,isLoading:!1}},computed:{receivedRequest:function(){return this.$store.getters["requests/requests"]},hasRequest:function(){return!this.isLoading&&this.$store.getters["requests/hasRequests"]}},methods:{loadRequests:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,e.$store.dispatch("requests/fetchRequests");case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),e.error=t.t0.message||"Something failed";case 9:e.isLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[1,6]])})))()},tryClose:function(){this.error=null}},created:function(){this.loadRequests()}};n("3b33");const tt=O()(et,[["render",Qe],["__scopeId","data-v-dd45a256"]]);var nt=tt,rt=function(e){return Object(r["x"])("data-v-2a73100d"),e=e(),Object(r["v"])(),e},ct={class:"title"},at={class:"form-control"},ot=rt((function(){return Object(r["i"])("label",{for:"email"},"E-Mail",-1)})),it={class:"form-control"},st=rt((function(){return Object(r["i"])("label",{for:"password"},"Password",-1)})),ut={key:0};function lt(e,t,n,c,a,o){var i=this,s=Object(r["C"])("base-dialog"),u=Object(r["C"])("base-spinner"),l=Object(r["C"])("base-button"),d=Object(r["C"])("base-card");return Object(r["u"])(),Object(r["h"])("div",null,[Object(r["k"])(s,{show:!!a.error,title:"An error occurred",onClose:o.handleError},{default:Object(r["K"])((function(){return[Object(r["i"])("p",null,Object(r["F"])(a.error),1)]})),_:1},8,["show","onClose"]),Object(r["k"])(s,{fixed:"",show:a.isLoading,title:"Authenticating..."},{default:Object(r["K"])((function(){return[Object(r["k"])(u)]})),_:1},8,["show"]),Object(r["k"])(d,null,{default:Object(r["K"])((function(){return[Object(r["i"])("h1",ct,Object(r["F"])("login"===i.mode?"Login":"Sign Up"),1),Object(r["i"])("form",{onSubmit:t[2]||(t[2]=Object(r["M"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["prevent"]))},[Object(r["i"])("div",at,[ot,Object(r["L"])(Object(r["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e}),autocomplete:""},null,512),[[r["I"],a.email,void 0,{trim:!0}]])]),Object(r["i"])("div",it,[st,Object(r["L"])(Object(r["i"])("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e}),autocomplete:""},null,512),[[r["I"],a.password,void 0,{trim:!0}]])]),a.formIsValid?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("p",ut," Please enter a valid email and password (must be at least 6 characters long). ")),Object(r["k"])(l,null,{default:Object(r["K"])((function(){return[Object(r["j"])(Object(r["F"])(o.submitButtonCaption),1)]})),_:1}),Object(r["k"])(l,{type:"button",mode:"flat",onClick:o.switchAuthMode},{default:Object(r["K"])((function(){return[Object(r["j"])(Object(r["F"])(o.switchModeButtonCaption),1)]})),_:1},8,["onClick"])],32)]})),_:1})])}var dt={data:function(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption:function(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption:function(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{handleError:function(){this.error=null},submitForm:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.formIsValid=!0,""!==e.email&&e.email.includes("@")&&!(e.password.length<6)){t.next=4;break}return e.formIsValid=!1,t.abrupt("return");case 4:if(e.isLoading=!0,n={email:e.email,password:e.password},t.prev=6,"login"!==e.mode){t.next=12;break}return t.next=10,e.$store.dispatch("auth/login",n);case 10:t.next=14;break;case 12:return t.next=14,e.$store.dispatch("auth/signUp",n);case 14:r="/".concat(e.$route.query.redirect||"coaches"),console.log(r),e.$router.replace(r),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](6),e.error=t.t0.message||"Failed to authenticate, try later.";case 22:e.isLoading=!1;case 23:case"end":return t.stop()}}),t,null,[[6,19]])})))()},switchAuthMode:function(){"login"===this.mode?this.mode="signup":this.mode="login"}},mounted:function(){}};n("0cce");const bt=O()(dt,[["render",lt],["__scopeId","data-v-2a73100d"]]);var ft=bt,ht=Object(r["i"])("h2",null,"Page not found!",-1),jt=Object(r["j"])(" This page could not be found - maybe checkout all our "),Ot=Object(r["j"])("coaches");function mt(e,t,n,c,a,o){var i=Object(r["C"])("router-link"),s=Object(r["C"])("base-card");return Object(r["u"])(),Object(r["h"])("section",null,[Object(r["k"])(s,null,{default:Object(r["K"])((function(){return[ht,Object(r["i"])("p",null,[jt,Object(r["k"])(i,{to:"/coaches"},{default:Object(r["K"])((function(){return[Ot]})),_:1})])]})),_:1})])}var pt={};const vt=O()(pt,[["render",mt]]);var gt,kt=vt,yt=n("5502"),Ct=(n("e9c4"),n("d9e2"),"AIzaSyAfD2QIiQflYgRxfiExj5TFHpooOipbHUw"),wt="https://vue-http-find-coach-55-default-rtdb.asia-southeast1.firebasedatabase.app",It="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat(Ct),_t="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat(Ct),xt={registerCoach:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.rootGetters["auth/userId"],c=e.rootGetters["auth/token"],a={id:r,firstName:t.first,lastName:t.last,description:t.desc,hourlyRate:t.rate,areas:t.areas},n.next=5,fetch("".concat(wt,"/coaches/").concat(r,".json?auth=").concat(c),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 5:o=n.sent,o.ok,e.commit("REGISTER_COACH",Object(Q["a"])(Object(Q["a"])({},a),{},{id:r}));case 8:case"end":return n.stop()}}),n)})))()},loadCoaches:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.forceRefresh||e.getters.shouldUpdate){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,fetch("".concat(wt,"/coaches.json"));case 4:return r=n.sent,n.next=7,r.json();case 7:if(c=n.sent,r.ok){n.next=11;break}throw a=new Error(c.message||"Failed to fetch!"),a;case 11:for(i in o=[],c)s={id:c[i].id,firstName:c[i].firstName,lastName:c[i].lastName,description:c[i].description,hourlyRate:c[i].hourlyRate,areas:c[i].areas},o.push(s);e.commit("SET_COACHES",o),e.commit("SET_FETCH_TIMESTAMP");case 15:case"end":return n.stop()}}),n)})))()}},Rt={coaches:function(e){return e.coaches},hasCoaches:function(e){var t;return(null===e||void 0===e||null===(t=e.coaches)||void 0===t?void 0:t.length)>0},isCoach:function(e,t,n,r){var c=t.coaches,a=r["auth/userId"];return c.some((function(e){return e.id===a}))},shouldUpdate:function(e){var t=e.lastFetch;if(!t)return!0;var n=(new Date).getTime();return(n-t)/1e3>60}},Lt={REGISTER_COACH:function(e,t){e.coaches.push(t)},SET_COACHES:function(e,t){e.coaches=t},SET_FETCH_TIMESTAMP:function(e){e.lastFetch=(new Date).getTime()}},Ft={namespaced:!0,state:function(){return{lastFetch:null,coaches:[{id:"c1",firstName:"Quyen",lastName:"Dang",areas:["frontend","backend","career"],description:"I'm Quyen Dang and I've worked as a freelance web developer for years. Let me help you become a developer as well!",hourlyRate:99},{id:"c2",firstName:"Julie",lastName:"Jones",areas:["frontend","career"],description:"I am Julie and as a senior developer in a big tech company, I can help you get your first job or progress in your current role.",hourlyRate:30}]}},actions:xt,getters:Rt,mutations:Lt},St=Ft,Vt=(n("b0c0"),{contactCoach:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={coachId:t.coachId,userEmail:t.email,message:t.message},n.next=3,fetch("".concat(wt,"/requests/").concat(t.coachId,".json"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:return c=n.sent,n.next=6,c.json();case 6:if(a=n.sent,c.ok){n.next=10;break}throw o=new Error(a.message||"Failed to send request."),o;case 10:r.id=a.name,r.coachId=a.coachId,e.commit("ADD_REQUEST",r);case 13:case"end":return n.stop()}}),n)})))()},fetchRequests:function(e){return Object(S["a"])(regeneratorRuntime.mark((function t(){var n,r,c,a,o,i,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootGetters["auth/userId"],r=e.rootGetters["auth/token"],console.log(n),console.log(r),t.next=6,fetch("".concat(wt,"/requests/").concat(n,".json?auth=").concat(r));case 6:return c=t.sent,t.next=9,c.json();case 9:if(a=t.sent,c.ok){t.next=13;break}throw o=new Error(a.message||"Failed to fetch request"),o;case 13:for(s in console.log(a),i=[],a)u={id:s,coachId:n,message:a[s].message,userEmail:a[s].userEmail},i.push(u);console.log(i),e.commit("SET_REQUESTS",i);case 18:case"end":return t.stop()}}),t)})))()}}),qt={requests:function(e,t,n,r){var c=r["auth/userId"];return e.requests.filter((function(e){return e.coachId===c}))},hasRequests:function(e,t){var n;return(null===t||void 0===t||null===(n=t.requests)||void 0===n?void 0:n.length)>0}},Et={ADD_REQUEST:function(e,t){e.requests.push(t)},SET_REQUESTS:function(e,t){e.requests=t}},Nt={namespaced:!0,state:function(){return{requests:[]}},actions:Vt,getters:qt,mutations:Et},Tt=Nt,At={login:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.dispatch("auth",Object(Q["a"])(Object(Q["a"])({},t),{},{mode:"login"})));case 1:case"end":return n.stop()}}),n)})))()},signUp:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.dispatch("auth",Object(Q["a"])(Object(Q["a"])({},t),{},{mode:"signup"})));case 1:case"end":return n.stop()}}),n)})))()},logout:function(e){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("tokenExpiration"),clearTimeout(gt),e.commit("SET_USER",{userId:null,token:null})},auth:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o,i,s,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.mode,c={email:t.email,password:t.password,returnSecureToken:!0},a=_t,"signup"==r&&(a=It),n.next=6,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 6:return o=n.sent,n.next=9,o.json();case 9:if(i=n.sent,o.ok){n.next=14;break}throw console.log(i),s=new Error(i.message||"Failed to authenticate. Check your login data."),s;case 14:u=1e3*+i.expiresIn,l=(new Date).getTime()+u,localStorage.setItem("token",i.idToken),localStorage.setItem("userId",i.localId),localStorage.setItem("tokenExpiration",l),gt=setTimeout((function(){e.dispatch("autoLogout")}),u),e.commit("SET_USER",{token:i.idToken,userId:i.localId});case 21:case"end":return n.stop()}}),n)})))()},tryLogin:function(e){var t=localStorage.getItem("token"),n=localStorage.getItem("userId"),r=localStorage.getItem("tokenExpiration"),c=+r-(new Date).getTime();c<0||(gt=setTimeout((function(){e.dispatch("autoLogout")}),c),t&&n&&e.commit("SET_USER",{token:t,userId:n}))},autoLogout:function(e){e.dispatch("logout"),e.commit("SET_AUTO_LOGOUT")}},$t={userId:function(e){return e.userId},token:function(e){return e.token},isAuthenticated:function(e){return!!e.token},didAutoLogout:function(e){return e.didAutoLogout}},Ut={SET_USER:function(e,t){e.token=t.token,e.userId=t.userId,e.didAutoLogout=!1},SET_AUTO_LOGOUT:function(e){e.didAutoLogout=!0}},Kt={namespaced:!0,state:function(){return{userId:null,token:null,didAutoLogout:!1}},actions:At,getters:$t,mutations:Ut},Dt=Kt,Bt=Object(yt["a"])({modules:{coaches:St,requests:Tt,auth:Dt}}),Mt=Bt,Pt=[{path:"/",redirect:"/coaches"},{path:"/coaches",name:"CoachesList",component:ee},{path:"/coaches/:id",name:"CoachDetail",props:!0,component:oe,meta:{requiresAuth:!0},children:[{path:"contact",name:"Contact",component:Me}]},{path:"/register",name:"CoachRegistration",component:Se,meta:{requiresAuth:!0}},{path:"/requests",name:"RequestsReceived",component:nt,meta:{requiresAuth:!0}},{path:"/auth",name:"UserAuth",component:ft,meta:{title:"User Authentication",requiresUnauth:!0}},{path:"/:notFound(.*)",name:"NotFound",component:kt}],Ht=Object(y["a"])({history:Object(y["b"])(),routes:Pt});Ht.beforeEach((function(e,t,n){e.meta.requiresAuth&&!Mt.getters["auth/isAuthenticated"]?n("/auth"):e.meta.requiresUnauth&&Mt.getters["auth/isAuthenticated"]?n("/coaches"):n()}));var Gt="Find-Coach";Ht.afterEach((function(e){Object(r["p"])((function(){document.title=e.meta.title||Gt}))}));var Jt=Ht,Qt={class:"card"};function Yt(e,t,n,c,a,o){return Object(r["u"])(),Object(r["h"])("div",Qt,[Object(r["B"])(e.$slots,"default",{},void 0,!0)])}var zt={};n("d268");const Wt=O()(zt,[["render",Yt],["__scopeId","data-v-325ef80a"]]);var Xt=Wt;n("9911");function Zt(e,t,n,c,a,o){var i=Object(r["C"])("router-link");return n.link?(Object(r["u"])(),Object(r["f"])(i,{key:1,to:n.to,class:Object(r["q"])(n.mode)},{default:Object(r["K"])((function(){return[Object(r["B"])(e.$slots,"default",{},void 0,!0)]})),_:3},8,["to","class"])):(Object(r["u"])(),Object(r["h"])("button",{key:0,class:Object(r["q"])(n.mode)},[Object(r["B"])(e.$slots,"default",{},void 0,!0)],2))}var en={props:{link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"},mode:{type:String,required:!1,default:null}}};n("b25c");const tn=O()(en,[["render",Zt],["__scopeId","data-v-7203a752"]]);var nn=tn;function rn(e,t,n,c,a,o){return Object(r["u"])(),Object(r["h"])("span",{class:Object(r["q"])(["badge",n.type])},Object(r["F"])(o.text),3)}var cn={props:["type","title"],computed:{text:function(){return this.title.toUpperCase()}}};n("d701");const an=O()(cn,[["render",rn],["__scopeId","data-v-324811ae"]]);var on=an,sn=function(e){return Object(r["x"])("data-v-560360be"),e=e(),Object(r["v"])(),e},un={class:"spinner"},ln=sn((function(){return Object(r["i"])("div",{class:"lds-roller"},[Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div")],-1)})),dn=[ln];function bn(e,t){return Object(r["u"])(),Object(r["h"])("div",un,dn)}n("9828");const fn={},hn=O()(fn,[["render",bn],["__scopeId","data-v-560360be"]]);var jn=hn,On=(n("c7cd"),{key:0,open:""}),mn={key:0},pn=Object(r["j"])("Close");function vn(e,t,n,c,a,o){var i=Object(r["C"])("base-button");return Object(r["u"])(),Object(r["f"])(r["b"],{to:"body"},[n.show?(Object(r["u"])(),Object(r["h"])("div",{key:0,onClick:t[0]||(t[0]=function(){return o.tryClose&&o.tryClose.apply(o,arguments)}),class:"backdrop"})):Object(r["g"])("",!0),Object(r["k"])(r["c"],{name:"dialog"},{default:Object(r["K"])((function(){return[n.show?(Object(r["u"])(),Object(r["h"])("dialog",On,[Object(r["i"])("header",null,[Object(r["B"])(e.$slots,"header",{},(function(){return[Object(r["i"])("h2",null,Object(r["F"])(n.title),1)]}),!0)]),Object(r["i"])("section",null,[Object(r["B"])(e.$slots,"default",{},void 0,!0)]),n.fixed?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("menu",mn,[Object(r["B"])(e.$slots,"actions",{},(function(){return[Object(r["k"])(i,{onClick:o.tryClose},{default:Object(r["K"])((function(){return[pn]})),_:1},8,["onClick"])]}),!0)]))])):Object(r["g"])("",!0)]})),_:3})])}var gn={props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryClose:function(){this.fixed||this.$emit("close")}}};n("0808");const kn=O()(gn,[["render",vn],["__scopeId","data-v-4584ee89"]]);var yn=kn,Cn=Object(r["e"])(k);Cn.use(Jt),Cn.use(Mt),Cn.component("base-card",Xt),Cn.component("base-button",nn),Cn.component("base-badge",on),Cn.component("base-spinner",jn),Cn.component("base-dialog",yn),Cn.mount("#app")},7118:function(e,t,n){},8176:function(e,t,n){},"8c99":function(e,t,n){"use strict";n("fea7")},"96d2":function(e,t,n){},9828:function(e,t,n){"use strict";n("220a")},b25c:function(e,t,n){"use strict";n("b713")},b713:function(e,t,n){},c5e4:function(e,t,n){},cd89:function(e,t,n){"use strict";n("0dff")},d268:function(e,t,n){"use strict";n("8176")},d701:function(e,t,n){"use strict";n("e3ca")},e18f:function(e,t,n){},e3ca:function(e,t,n){},e702:function(e,t,n){"use strict";n("e18f")},fc9c:function(e,t,n){"use strict";n("073c")},fea7:function(e,t,n){}});
//# sourceMappingURL=app.b3aca848.js.map